openapi: 3.1.0
info:
  contact:
    name: StackQL Studios
    url: https://stackql.io/
    email: info@stackql.io
  x-stackql-serviceName: app_mesh
  x-aws-serviceName: appmesh
  x-aws-protocol: aws.protocols#restJson1
  x-dateGenerated: '2025-05-05'
  version: '2019-01-25'
  title: AWS App Mesh
  description: |-
    App Mesh is a service mesh based on the Envoy proxy that makes it easy to monitor and control microservices. App Mesh standardizes how your microservices communicate, giving you end-to-end visibility and helping to ensure high availability for your applications.

    App Mesh gives you consistent visibility and network traffic controls for every microservice in an application. You can use App Mesh with Amazon Web Services Fargate, Amazon ECS, Amazon EKS, Kubernetes on Amazon Web Services, and Amazon EC2.

    App Mesh supports microservice applications that use service discovery naming for their components. For more information about service discovery on Amazon ECS, see [Service Discovery](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service-discovery.html) in the _Amazon Elastic Container Service Developer Guide_. Kubernetes `kube-dns` and `coredns` are supported. For more information, see [DNS for Services and Pods](https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/) in the Kubernetes documentation.
servers:
- description: The AWS App Mesh regional endpoint
  url: https://appmesh.{region}.amazonaws.com
  variables:
    region:
      description: The AWS region
      enum:
      - us-east-1
      - us-east-2
      - us-west-1
      - us-west-2
      - us-gov-west-1
      - us-gov-east-1
      - ca-central-1
      - eu-north-1
      - eu-west-1
      - eu-west-2
      - eu-west-3
      - eu-central-1
      - eu-south-1
      - af-south-1
      - ap-northeast-1
      - ap-northeast-2
      - ap-northeast-3
      - ap-southeast-1
      - ap-southeast-2
      - ap-east-1
      - ap-south-1
      - sa-east-1
      - me-south-1
      default: us-east-1
paths: {}
components:
  schemas:
    AccessLog:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/FileAccessLog'
        description: |-
          The file object to send virtual node access logs to.
      description: |-
        An object that represents the access logging information for a virtual node.
    AccountId:
      type: string
      minLength: 12
      maxLength: 12
    Arn:
      type: string
    AwsCloudMapInstanceAttributeKey:
      type: string
      pattern: ^[a-zA-Z0-9!-~]+$
      minLength: 1
      maxLength: 255
    AwsCloudMapInstanceAttributeValue:
      type: string
      pattern: "^([a-zA-Z0-9!-~][ \ta-zA-Z0-9!-~]*){0,1}[a-zA-Z0-9!-~]{0,1}$"
      minLength: 1
      maxLength: 1024
    AwsCloudMapInstanceAttributes:
      type: array
      items:
        $ref: '#/components/schemas/AwsCloudMapInstanceAttribute'
    AwsCloudMapName:
      type: string
      minLength: 1
      maxLength: 1024
    Backend:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/VirtualServiceBackend'
        description: |-
          Specifies a virtual service to use as a backend.
      description: |-
        An object that represents the backends that a virtual node is expected to send outbound traffic to.
    Backends:
      type: array
      items:
        $ref: '#/components/schemas/Backend'
    CertificateAuthorityArns:
      type: array
      items:
        $ref: '#/components/schemas/Arn'
    ClientTlsCertificate:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/ListenerTlsFileCertificate'
        description: |-
          An object that represents a local file certificate. The certificate must meet specific requirements and you must have proxy authorization enabled. For more information, see [Transport Layer Security (TLS)](https://docs.aws.amazon.com/app-mesh/latest/userguide/tls.html).
      - allOf:
        - $ref: '#/components/schemas/ListenerTlsSdsCertificate'
        description: |-
          A reference to an object that represents a client's TLS Secret Discovery Service certificate.
      description: |-
        An object that represents the client's certificate.
    DefaultGatewayRouteRewrite:
      type: string
      enum:
      - ENABLED
      - DISABLED
    DnsResponseType:
      type: string
      enum:
      - LOADBALANCER
      - ENDPOINTS
    DurationUnit:
      type: string
      enum:
      - s
      - ms
    DurationValue:
      type: integer
      format: int64
      minimum: 0
    EgressFilterType:
      type: string
      enum:
      - ALLOW_ALL
      - DROP_ALL
    ExactHostName:
      type: string
      minLength: 1
      maxLength: 253
    FilePath:
      type: string
      minLength: 1
      maxLength: 255
    GatewayRouteList:
      type: array
      items:
        $ref: '#/components/schemas/GatewayRouteRef'
    GatewayRoutePriority:
      type: integer
      minimum: 0
      maximum: 1000
    GatewayRouteStatusCode:
      type: string
      enum:
      - ACTIVE
      - INACTIVE
      - DELETED
    GrpcGatewayRouteMetadataList:
      type: array
      items:
        $ref: '#/components/schemas/GrpcGatewayRouteMetadata'
    GrpcMetadataMatchMethod:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The exact method header to be matched on.
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The regex used to match the method header.
      - allOf:
        - $ref: '#/components/schemas/MatchRange'
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The specified beginning characters of the method header to be matched on.
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The specified ending characters of the method header to match on.
      description: |-
        An object representing the method header to be matched.
    GrpcRetryPolicyEvent:
      type: string
      enum:
      - cancelled
      - deadline-exceeded
      - internal
      - resource-exhausted
      - unavailable
    GrpcRetryPolicyEvents:
      type: array
      items:
        $ref: '#/components/schemas/GrpcRetryPolicyEvent'
    GrpcRouteMetadataList:
      type: array
      items:
        $ref: '#/components/schemas/GrpcRouteMetadata'
    GrpcRouteMetadataMatchMethod:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The value sent by the client must match the specified value exactly.
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The value sent by the client must include the specified characters.
      - allOf:
        - $ref: '#/components/schemas/MatchRange'
        description: |-
          An object that represents the range of values to match on.
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The value sent by the client must begin with the specified characters.
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The value sent by the client must end with the specified characters.
      description: |-
        An object that represents the match method. Specify one of the match values.
    HeaderMatch:
      type: string
      minLength: 1
      maxLength: 255
    HeaderMatchMethod:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The value sent by the client must match the specified value exactly.
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The value sent by the client must include the specified characters.
      - allOf:
        - $ref: '#/components/schemas/MatchRange'
        description: |-
          An object that represents the range of values to match on.
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The value sent by the client must begin with the specified characters.
      - allOf:
        - $ref: '#/components/schemas/HeaderMatch'
        description: |-
          The value sent by the client must end with the specified characters.
      description: |-
        An object that represents the method and value to match with the header value sent in a request. Specify one match method.
    HeaderName:
      type: string
      minLength: 1
      maxLength: 50
    HealthCheckIntervalMillis:
      type: integer
      format: int64
      minimum: 5000
      maximum: 300000
    HealthCheckThreshold:
      type: integer
      minimum: 2
      maximum: 10
    HealthCheckTimeoutMillis:
      type: integer
      format: int64
      minimum: 2000
      maximum: 60000
    Hostname:
      type: string
    HttpGatewayRouteHeaders:
      type: array
      items:
        $ref: '#/components/schemas/HttpGatewayRouteHeader'
    HttpGatewayRoutePrefix:
      type: string
      minLength: 1
      maxLength: 255
    HttpMethod:
      type: string
      enum:
      - GET
      - HEAD
      - POST
      - PUT
      - DELETE
      - CONNECT
      - OPTIONS
      - TRACE
      - PATCH
    HttpPathExact:
      type: string
      minLength: 1
      maxLength: 255
    HttpPathRegex:
      type: string
      minLength: 1
      maxLength: 255
    HttpQueryParameters:
      type: array
      items:
        $ref: '#/components/schemas/HttpQueryParameter'
    HttpRetryPolicyEvent:
      type: string
      minLength: 1
      maxLength: 25
    HttpRetryPolicyEvents:
      type: array
      items:
        $ref: '#/components/schemas/HttpRetryPolicyEvent'
    HttpRouteHeaders:
      type: array
      items:
        $ref: '#/components/schemas/HttpRouteHeader'
    HttpScheme:
      type: string
      enum:
      - http
      - https
    IpPreference:
      type: string
      enum:
      - IPv6_PREFERRED
      - IPv4_PREFERRED
      - IPv4_ONLY
      - IPv6_ONLY
    JsonFormat:
      type: array
      items:
        $ref: '#/components/schemas/JsonFormatRef'
    JsonKey:
      type: string
      minLength: 1
      maxLength: 100
    JsonValue:
      type: string
      minLength: 1
      maxLength: 100
    ListGatewayRoutesLimit:
      type: integer
      minimum: 1
      maximum: 100
    ListMeshesLimit:
      type: integer
      minimum: 1
      maximum: 100
    ListRoutesLimit:
      type: integer
      minimum: 1
      maximum: 100
    ListVirtualGatewaysLimit:
      type: integer
      minimum: 1
      maximum: 100
    ListVirtualNodesLimit:
      type: integer
      minimum: 1
      maximum: 100
    ListVirtualRoutersLimit:
      type: integer
      minimum: 1
      maximum: 100
    ListVirtualServicesLimit:
      type: integer
      minimum: 1
      maximum: 100
    ListenerPort:
      type: integer
      minimum: 1
      maximum: 65535
    ListenerTimeout:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/TcpTimeout'
        description: |-
          An object that represents types of timeouts.
      - allOf:
        - $ref: '#/components/schemas/HttpTimeout'
        description: |-
          An object that represents types of timeouts.
      - allOf:
        - $ref: '#/components/schemas/HttpTimeout'
        description: |-
          An object that represents types of timeouts.
      - allOf:
        - $ref: '#/components/schemas/GrpcTimeout'
        description: |-
          An object that represents types of timeouts.
      description: |-
        An object that represents timeouts for different protocols.
    ListenerTlsCertificate:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/ListenerTlsAcmCertificate'
        description: |-
          A reference to an object that represents an Certificate Manager certificate.
      - allOf:
        - $ref: '#/components/schemas/ListenerTlsFileCertificate'
        description: |-
          A reference to an object that represents a local file certificate.
      - allOf:
        - $ref: '#/components/schemas/ListenerTlsSdsCertificate'
        description: |-
          A reference to an object that represents a listener's Secret Discovery Service certificate.
      description: |-
        An object that represents a listener's Transport Layer Security (TLS) certificate.
    ListenerTlsMode:
      type: string
      enum:
      - STRICT
      - PERMISSIVE
      - DISABLED
    ListenerTlsValidationContextTrust:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/TlsValidationContextFileTrust'
        description: |-
          An object that represents a Transport Layer Security (TLS) validation context trust for a local file.
      - allOf:
        - $ref: '#/components/schemas/TlsValidationContextSdsTrust'
        description: |-
          A reference to an object that represents a listener's Transport Layer Security (TLS) Secret Discovery Service validation context trust.
      description: |-
        An object that represents a listener's Transport Layer Security (TLS) validation context trust.
    Listeners:
      type: array
      items:
        $ref: '#/components/schemas/Listener'
    LoggingFormat:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/TextFormat'
        description: ""
      - allOf:
        - $ref: '#/components/schemas/JsonFormat'
        description: ""
      description: |-
        An object that represents the format for the logs.
    MaxConnections:
      type: integer
      minimum: 1
    MaxPendingRequests:
      type: integer
      minimum: 1
    MaxRequests:
      type: integer
      minimum: 1
    MaxRetries:
      type: integer
      format: int64
      minimum: 0
    MeshList:
      type: array
      items:
        $ref: '#/components/schemas/MeshRef'
    MeshStatusCode:
      type: string
      enum:
      - ACTIVE
      - INACTIVE
      - DELETED
    MethodName:
      type: string
      minLength: 1
      maxLength: 50
    OutlierDetectionMaxEjectionPercent:
      type: integer
      minimum: 0
      maximum: 100
    OutlierDetectionMaxServerErrors:
      type: integer
      format: int64
      minimum: 1
    PercentInt:
      type: integer
      default: 0
      minimum: 0
      maximum: 100
    PortNumber:
      type: integer
      minimum: 1
      maximum: 65535
    PortProtocol:
      type: string
      enum:
      - http
      - tcp
      - http2
      - grpc
    PortSet:
      type: array
      items:
        $ref: '#/components/schemas/PortNumber'
    QueryParameterName:
      type: string
    ResourceName:
      type: string
      minLength: 1
      maxLength: 255
    RouteList:
      type: array
      items:
        $ref: '#/components/schemas/RouteRef'
    RoutePriority:
      type: integer
      minimum: 0
      maximum: 1000
    RouteStatusCode:
      type: string
      enum:
      - ACTIVE
      - INACTIVE
      - DELETED
    SdsSecretName:
      type: string
    ServiceDiscovery:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/DnsServiceDiscovery'
        description: |-
          Specifies the DNS information for the virtual node.
      - allOf:
        - $ref: '#/components/schemas/AwsCloudMapServiceDiscovery'
        description: |-
          Specifies any Cloud Map information for the virtual node.
      description: |-
        An object that represents the service discovery information for a virtual node.
    ServiceName:
      type: string
    SubjectAlternativeName:
      type: string
      minLength: 1
      maxLength: 254
    SubjectAlternativeNameList:
      type: array
      items:
        $ref: '#/components/schemas/SubjectAlternativeName'
    SuffixHostname:
      type: string
      minLength: 1
      maxLength: 253
    TagKey:
      type: string
      minLength: 1
      maxLength: 128
    TagKeyList:
      type: array
      items:
        $ref: '#/components/schemas/TagKey'
    TagList:
      type: array
      items:
        $ref: '#/components/schemas/TagRef'
    TagValue:
      type: string
      minLength: 0
      maxLength: 256
    TagsLimit:
      type: integer
      minimum: 1
      maximum: 50
    TcpRetryPolicyEvent:
      type: string
      enum:
      - connection-error
    TcpRetryPolicyEvents:
      type: array
      items:
        $ref: '#/components/schemas/TcpRetryPolicyEvent'
    TextFormat:
      type: string
      minLength: 1
      maxLength: 1000
    TlsValidationContextTrust:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/TlsValidationContextAcmTrust'
        description: |-
          A reference to an object that represents a Transport Layer Security (TLS) validation context trust for an Certificate Manager certificate.
      - allOf:
        - $ref: '#/components/schemas/TlsValidationContextFileTrust'
        description: |-
          An object that represents a Transport Layer Security (TLS) validation context trust for a local file.
      - allOf:
        - $ref: '#/components/schemas/TlsValidationContextSdsTrust'
        description: |-
          A reference to an object that represents a Transport Layer Security (TLS) Secret Discovery Service validation context trust.
      description: |-
        An object that represents a Transport Layer Security (TLS) validation context trust.
    VirtualGatewayAccessLog:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayFileAccessLog'
        description: |-
          The file object to send virtual gateway access logs to.
      description: |-
        The access log configuration for a virtual gateway.
    VirtualGatewayCertificateAuthorityArns:
      type: array
      items:
        $ref: '#/components/schemas/Arn'
    VirtualGatewayClientTlsCertificate:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayListenerTlsFileCertificate'
        description: |-
          An object that represents a local file certificate. The certificate must meet specific requirements and you must have proxy authorization enabled. For more information, see [ Transport Layer Security (TLS) ](https://docs.aws.amazon.com/app-mesh/latest/userguide/tls.html).
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayListenerTlsSdsCertificate'
        description: |-
          A reference to an object that represents a virtual gateway's client's Secret Discovery Service certificate.
      description: |-
        An object that represents the virtual gateway's client's Transport Layer Security (TLS) certificate.
    VirtualGatewayConnectionPool:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayHttpConnectionPool'
        description: |-
          An object that represents a type of connection pool.
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayHttp2ConnectionPool'
        description: |-
          An object that represents a type of connection pool.
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayGrpcConnectionPool'
        description: |-
          An object that represents a type of connection pool.
      description: |-
        An object that represents the type of virtual gateway connection pool.

        Only one protocol is used at a time and should be the same protocol as the one chosen under port mapping.

        If not present the default value for `maxPendingRequests` is `2147483647`.
    VirtualGatewayHealthCheckIntervalMillis:
      type: integer
      format: int64
      minimum: 5000
      maximum: 300000
    VirtualGatewayHealthCheckThreshold:
      type: integer
      minimum: 2
      maximum: 10
    VirtualGatewayHealthCheckTimeoutMillis:
      type: integer
      format: int64
      minimum: 2000
      maximum: 60000
    VirtualGatewayList:
      type: array
      items:
        $ref: '#/components/schemas/VirtualGatewayRef'
    VirtualGatewayListenerTlsCertificate:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayListenerTlsAcmCertificate'
        description: |-
          A reference to an object that represents an Certificate Manager certificate.
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayListenerTlsFileCertificate'
        description: |-
          A reference to an object that represents a local file certificate.
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayListenerTlsSdsCertificate'
        description: |-
          A reference to an object that represents a virtual gateway's listener's Secret Discovery Service certificate.
      description: |-
        An object that represents a listener's Transport Layer Security (TLS) certificate.
    VirtualGatewayListenerTlsMode:
      type: string
      enum:
      - STRICT
      - PERMISSIVE
      - DISABLED
    VirtualGatewayListenerTlsValidationContextTrust:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayTlsValidationContextFileTrust'
        description: |-
          An object that represents a Transport Layer Security (TLS) validation context trust for a local file.
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayTlsValidationContextSdsTrust'
        description: |-
          A reference to an object that represents a virtual gateway's listener's Transport Layer Security (TLS) Secret Discovery Service validation context trust.
      description: |-
        An object that represents a virtual gateway's listener's Transport Layer Security (TLS) validation context trust.
    VirtualGatewayListeners:
      type: array
      items:
        $ref: '#/components/schemas/VirtualGatewayListener'
    VirtualGatewayPortProtocol:
      type: string
      enum:
      - http
      - http2
      - grpc
    VirtualGatewaySdsSecretName:
      type: string
    VirtualGatewayStatusCode:
      type: string
      enum:
      - ACTIVE
      - INACTIVE
      - DELETED
    VirtualGatewayTlsValidationContextTrust:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayTlsValidationContextAcmTrust'
        description: |-
          A reference to an object that represents a Transport Layer Security (TLS) validation context trust for an Certificate Manager certificate.
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayTlsValidationContextFileTrust'
        description: |-
          An object that represents a Transport Layer Security (TLS) validation context trust for a local file.
      - allOf:
        - $ref: '#/components/schemas/VirtualGatewayTlsValidationContextSdsTrust'
        description: |-
          A reference to an object that represents a virtual gateway's Transport Layer Security (TLS) Secret Discovery Service validation context trust.
      description: |-
        An object that represents a Transport Layer Security (TLS) validation context trust.
    VirtualNodeConnectionPool:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/VirtualNodeTcpConnectionPool'
        description: |-
          An object that represents a type of connection pool.
      - allOf:
        - $ref: '#/components/schemas/VirtualNodeHttpConnectionPool'
        description: |-
          An object that represents a type of connection pool.
      - allOf:
        - $ref: '#/components/schemas/VirtualNodeHttp2ConnectionPool'
        description: |-
          An object that represents a type of connection pool.
      - allOf:
        - $ref: '#/components/schemas/VirtualNodeGrpcConnectionPool'
        description: |-
          An object that represents a type of connection pool.
      description: |-
        An object that represents the type of virtual node connection pool.

        Only one protocol is used at a time and should be the same protocol as the one chosen under port mapping.

        If not present the default value for `maxPendingRequests` is `2147483647`.
    VirtualNodeList:
      type: array
      items:
        $ref: '#/components/schemas/VirtualNodeRef'
    VirtualNodeStatusCode:
      type: string
      enum:
      - ACTIVE
      - INACTIVE
      - DELETED
    VirtualRouterList:
      type: array
      items:
        $ref: '#/components/schemas/VirtualRouterRef'
    VirtualRouterListeners:
      type: array
      items:
        $ref: '#/components/schemas/VirtualRouterListener'
    VirtualRouterStatusCode:
      type: string
      enum:
      - ACTIVE
      - INACTIVE
      - DELETED
    VirtualServiceList:
      type: array
      items:
        $ref: '#/components/schemas/VirtualServiceRef'
    VirtualServiceProvider:
      allOf:
      - allOf:
        - $ref: '#/components/schemas/VirtualNodeServiceProvider'
        description: |-
          The virtual node associated with a virtual service.
      - allOf:
        - $ref: '#/components/schemas/VirtualRouterServiceProvider'
        description: |-
          The virtual router associated with a virtual service.
      description: |-
        An object that represents the provider for a virtual service.
    VirtualServiceStatusCode:
      type: string
      enum:
      - ACTIVE
      - INACTIVE
      - DELETED
    WeightedTargets:
      type: array
      items:
        $ref: '#/components/schemas/WeightedTarget'
